buildscript {

    dependencies {
        classpath "org.springframework.boot:spring-boot-gradle-plugin:${version_springBoot}"
        classpath 'com.sourcemuse.gradle.plugin:gradle-mongo-plugin:0.11.0'
    }

}

apply plugin: 'spring-boot'
apply plugin: 'mongo'

dependencies {
    compile(
            'org.springframework.boot:spring-boot-starter',
            'org.springframework.boot:spring-boot-starter-web',
            'org.springframework.boot:spring-boot-starter-actuator',
            'org.springframework.boot:spring-boot-starter-data-mongodb'
    )

    testCompile(
            project(':test-base'),
            'org.springframework.boot:spring-boot-starter-test'
    )
}

test {
    useJUnit {
        excludeCategories 'com.github.reflectoring.infiniboard.test.categories.MongoIntegrationTests'
    }
}

task integrationTest(type: Test) {
    runWithMongoDb = true
    useJUnit {
        includeCategories 'com.github.reflectoring.infiniboard.test.categories.MongoIntegrationTests'
    }
}
